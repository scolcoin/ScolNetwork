#!/bin/bash

# Esperar hasta que el nodo esté disponible
until nc -z localhost 3545; do
  echo "Esperando que geth esté disponible..."
  sleep 5
done

cd /root/src

# Conectar a la consola Geth usando attach
./geth attach http://0.0.0.0:3545 << EOF
admin.addPeer("enode://134fd23d8e72cf41663dcee1063306a6e43b360137e97d1729a4b654fa478e7de4f756ae133bfcd896a39bf2bc4ed6e078679a69d5248e363b4ee399bd4e6e54@185.249.227.141:40605")
admin.addPeer("enode://7212b69187bedf26b75fdec9dce7e2f9013c78590a04e7c24a09fd4a843223b6aacc6d78d1b5c4f784592bc1baf4edf9e29ff929a8457bf04ce652d6797ddf34@185.249.227.142:40605")
admin.addPeer("enode://1e00d5928c83c8040fc7e2dd6c9542b0cd93580148738c6f8fb317d4f29b6ff79e4d37a5a63e9f5feea8fdaf39f7925a69e483aa267e57fe38d7da1af9cc63f1@185.249.227.150:40605")
admin.addPeer("enode://1e4e4a52f0659f2a743a12454a16cc6d265c486f2c80cab1bafbcb4f5a869c3d741a99d7347e6c19a6bddcde6982d41ecac44d258646bc65d8895ab83ac11250@185.249.227.168:40605")
admin.addPeer("enode://19bab67663e7899df72329c3cead3cd7765813231c09b07aeaa288fd822c39bd6d3dc80d8dda355048d4af32106eec54d208f8d573880b1e977e2e2134993a09@95.111.234.144:40605")
admin.addPeer("enode://6c6d9b3ab738ac3eecdaca7863dcf8d630f49be1353eafd87ca5d75f37b8aa5d082e00323ad9b762e1add3fa9bce9babd109ce401275db37c3ebf20a7249071d@161.97.115.236:40605")
admin.addPeer("enode://b271860f60a73b01803e45b23787c624cced33e6617a7c3a2bb2d7be0f00d43e067919621df832bc1f83c811da7c94922ea2498a64fbfc9ca0d69da82c492e9d@178.18.254.7:40605")
admin.addPeer("enode://d6eb8ed801c9a23b90e786ad424a80f09d3ed1ca6ec44661729455b6b4d9b0bb31d66d9e79dd7b2689f574996fcfa2223d8bb346b3530c7d86325c2200d19ab6@178.238.237.90:40605")
admin.addPeer("enode://837afe049ab1ad5d5bc86450fb37c6ef4aa759d5f301f515d3dbecfad1fea6ffcd51551d5e80064b757fa9a6a7fb947e262db2be642bed8f41b585691bdb872f@185.213.27.165:40605")
admin.addPeer("enode://ba67eede62392434ee439a25ed35fa5d698f1d7334cc4f45959b7197b39111c0d55611e0dcf0a8038bea89dab661a102eff52bf803464504efc00b587c0e6a88@158.220.118.217:40605")
admin.addPeer("enode://605b6463495aa3ad13ef801c43e6fd46b55a416486107ff9ea9c0360a201e50b732e08245da0fde239e616c6adb6e9f45f4f3d91cba410eba8fb1e29e5e91b94@158.220.118.226:40605")
admin.addPeer("enode://fed8b51babadcd8d863c920e0021098bb5895116d2f9cff87ea9556d97f3ac997ee323e461b61b917fe7419d5fd65e468016351ccda54d541f5437b2143d30c4@95.111.229.39:40605")
admin.addPeer("enode://946c953b63921612d085263eab6078265253cb3defed869e229124ac80ffa6eaf362f58f2569e9487d4555e2a4182e039accae5c46162c94fdf3cf21449c9789@84.247.171.42:40606")
admin.addPeer("enode://29092616aeb91b57d746cc1bbf34bd7596f74eab37326a811f19246a04a396da2111b4ccbe3d9722def4f2e96b0ac6233a30cbe0929158652ddcdd6aa64f429b@213.199.45.11:40605")
admin.addPeer("enode://fd4dfec52c82e368364e5f6e6fc7024e993c6fac34221d98ef1680b5a3d622843b5bfdc2dfff13625de960ebc3930a2ed49f8a23dfeb6b2671dc3b9867eacc60@213.199.45.39:40605")
admin.addPeer("enode://01b9f6f4edfa5843f037648b96553f8d81add77f6dba3c0ae49b9b20962cc3cdee3e32f2392b1904e232d749537b40b3dd989ad7bc8792c6eecefa7156535964@213.199.44.8:40605")
admin.addPeer("enode://70faf08f6d888c13b825e5d23fba870cf48db2025be807edee32b189bd25f5a906bdb779fd6692914d1cc674a126f74298a376f913f1d5c8e90801c1e5337096@84.247.128.187:40605")
EOF
