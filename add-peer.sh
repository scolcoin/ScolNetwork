#!/bin/bash

# Esperar hasta que el nodo esté disponible
until nc -z localhost 3545; do
  echo "Esperando que geth esté disponible..."
  sleep 5
done

cd /root/src

# Conectar a la consola Geth usando attach
./geth attach http://0.0.0.0:3545 << EOF
admin.addPeer("enode://31a5703ecd561f52623f6b2625cf0dc1bc95204575986aa8592adf7eb43bbfba867c2250889899b69894b6a295efb6ddec8d16f24d409ec9f15af45533554330@84.247.128.187:40605")
admin.addPeer("enode://108607d4559bdd902e49c5ac6c3b53e6d52dbc9d540d598c22e0f61ad9c3f0274f269c81f009962368150074e12ac80631a357e6e3cf032d5ade479fe42ff4dc@185.249.227.142:40605")
admin.addPeer("enode://56e36e274a3e020d419ff1ce4e467f234184bd706cb5f2ba29a8f895d6ba52fba270c08482e687064f64dd2e168797c1a9bd6527ca5445810ab7f5a84a55bb4c@213.199.44.8:40605")
admin.addPeer("enode://58cd37c749c23f86f245125d20859ab17e5d8534489a4778d115e4d5a306b53c072a2aff1d0545e7d69fd0513d448631e6735f323ab942e4d0e5a62a5c022d14@213.199.45.11:40605")
admin.addPeer("enode://4e7e3364006bfdd61c4c572f0165dcf52e694dd1592f71302e2703e1a973e4f5f0b4d75d86a88da7707612dd8eb27478bf39ed3a6f610bbcf4274f2fc9afdc63@213.199.45.39:40605")
admin.addPeer("enode://9eed2dd33bfd1787d8ad2f45543ad1b750e104f0ed0a110fd4953bf167caedcd2543e471607d2fc89d80699b447075e398f9bcc6ba856b1125f29de895268252@185.213.27.165:40605")
admin.addPeer("enode://14fec431892a8dca70e2f9426e4ad6897f92de9e9af69542eeb6b186ad5d6dbfd260d9d6be1a0d63aa8829d81ec60145553a9ffc55a09a8df23c5de64b4a844c@2.59.156.157:40605")
admin.addPeer("enode://765da77553660a755fc28dbf9c9c699c3f53f02a3854c4dbc4249fd8d9983a5400d7c679230851fd1896adb0dab6d1b8561a2cf74dce2bc9b00bd348d5f5f57a@158.220.118.226:40605")
admin.addPeer("enode://4378a228d814cef9180d6d390bcd867507b875569b4cb1711e8140c2d5ae5e4821c209ab50b20b8f30cac0924dda36800d66c8f2c236363dbcee0755e2eadbe0@38.242.226.154:40605")
admin.addPeer("enode://b844d37ed4170024839f9dbe2a710a09eab359603e6951084b4680b7a776acb526cc1e5281a676092711f1154442c75a0893345d83fa4fd574cdb9a2af0e040d@158.220.118.217:40605")
admin.addPeer("enode://59fa9f6759a9525f1f0563dd928fa096af0b89f00b9af8afd6b3dde1f84e35ca71375c0ac7385515ad85642394036dd131201ae8e6773251ab3e3f67563a2c4f@185.249.227.141:40605")
admin.addPeer("enode://e32aa349ee2e95a2720fe90555eb3449f7bc65c3e0f4c5cf54ff99a688ac647897abeb02c28b2004bfbd7035590732cf45bcad44ed71294a4d5d148997fcef62@185.249.227.150:40605")
EOF
